---
title: Memory Structure
tag: 정처기
---



## 메모리 구조

### 프로그램 실행 순서

1. 사용자가 프로그램 실행을 요청
2. OS가 프로그램의 정보를 읽어 메모리에 로드
3.  CPU는 프로글매 코드를 가져다 메모리를 관리하고 명령문을 실행
4. 동적 메모리가 할당되면 RAM의 FreeStore 영역을 사용 (아래쪽으로 이동)
5. 스택메모리가 항당되면 FreeStore영역을 사용(위쪽으로 이동)

- 주기억장치 RAM

```
//Program code	 실행할 프로그램의 코드
//Data			전역변수, 정적 변수
//Heap 			사용자의 동적 할당(런타임에 크기가 결정됨)
//Free Store
//Stack 		지역변수, 매개변수(컴파일 타임에 크기가 결정됨)
```

### Data 영역

- 전역변수와 static변수가 할당되는 영역
- 프로그램의 시작과 동시에 할당되고, 프로그램이 종료되어야 메모리가 소멸되는 영역



### Stack 영역

- 프로그램이 자동으로 사용하는 임시 메모리 영역이다.
- 함수 호출 시 생성되는 지역 변수와 매개변수가 저장되는 영역이고,
  함수 호출이 완료되면 사라집니다. (반환되어 비워짐)
- 크기가 정해져 있는 타입
- 메로리 할당시 컴파일할때 이미 계산됨.
- heap에 저장되지 않거나, 참조되지 않기때문에 비객체



### Heap 영역

- 프로그래머가 할당/해제하는 메모리 공간이다.
- Java에서는 가비지 컬렉터가 자동으로 해제합니다.
- 이 공간에 메모리 할당하는 것을 동적 할당(Dynamic Memory Allocation)이라고도 부른다.
- 객체와 배열이 생성되는 공간이고 참조타입들을 힙영역에 주소형식으로 저장함



### 객체 생성

```
//Car라는 객체의 참조인 car를 선언
//Car car{NULL};
Car car;

//new를 가지고 클래스의 내용을 동적할당(Heap 영역)
new Car();

//클래스 내용이 다 올라간 후 주서번지를 부여받게 되는데 
//이 주소번지를 car변수에 대입하여 참조
car = new Car();
```

- 정의, 선언의 의미
  - Stack영역에서  car변수가 정의도고 default 값으로 null이 초기화
  - 클래스 객체주소를 참조할 수 있는 공간을 마련
  - 클래스 변수 선언에 의해 선언된 변수는 클래스 객체주소에 접근할 수 있는 권한을 가짐
- stack에 있는 car변수는 heap영역의 객체내용을 가리키게 된다. 그래서 car변수를 reference 변수라고 함. 즉, car변수는 값이 아니라 Car 클래스의 주소를 가지고 있는 참조 변수

```
*car = &Car //이렇게 생각하는게 맞는건가?
//포인터 car는 Car클래스 객체의 주소값을 가지고 있는 참조 변수이다.
```



### 참조 변수

```\
Object obj = new Object();
```

참조형 변수 obj는 Object클래스의 인스턴스 변수,메소드를 사용할 수 있는 권한을 얻는다.



[JinShine: 메모리 구조]([https://jinshine.github.io/2018/05/17/%EC%BB%B4%ED%93%A8%ED%84%B0%20%EA%B8%B0%EC%B4%88/%EB%A9%94%EB%AA%A8%EB%A6%AC%EA%B5%AC%EC%A1%B0/](https://jinshine.github.io/2018/05/17/컴퓨터 기초/메모리구조/)), [참조 2](https://m.blog.naver.com/PostView.nhn?blogId=da91love&logNo=220938903229&proxyReferer=https:%2F%2Fwww.google.com%2F)

---



