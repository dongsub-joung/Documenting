---
title: iterator
tag: cpp
---



## STL) 반복자

반복자는 컨테이너에 저장된 원소를 순회하고 접근하는 일반화된 방법을 제공한다.

반복자는 컨테이너와 알고리즘이 하나로 동작하게 묶어주는 인터페이스 역할을 한다.

> 반복자 덕에 알고리즘은 특정 컨테이너에 종속적이지 않고 독립적이면서도 언제든지 컨테이너와 결합하여 동작할 수 있다.

- 반복자는 컨테이너 내부의 원소(객체)를 가리키고 접근할 수 있어야 한다. (* 연산자)

- 반복자는 다음 원소로 이동하고 컨테이너의 모든 원소를 순회할 수 있어야 한다. (++, !=, == 연산자 제공)



## STL의 구성 요소

C++ 표준 템플릿 라이브러리인 STL은 다음과 같은 구성 요소로 이루어진 템플릿을 제공합니다.

1. 반복자(iterator)
2. 컨테이너(container)
3. 알고리즘(algorithm)

### 정의

<u>STL 컨테이너에 저장된 요소를 반복적으로 순회하여, 각각의 요소에 대한 접근을 제공하는 객체</u>입니다.

즉, 컨테이너의 구조나 요소의 <u>타입과는 상관없이 컨테이너에 저장된 데이터를 순회하는 과정을 일반화한 표현</u>입니다.

반복자는 <u>컨테이너와 상관없이 알고리즘을 표현할 수 있게 해주는 것</u>입니다.

 

#### 반복자가 가져야 할 요구 사항과 정의되어야 할 연산자는 다음과 같습니다.

1. 가리키는 요소의 값에 접근할 수 있어야 합니다. 따라서 참조 연산자(*)가 정의되어야 합니다.
2. 반복자 사이의 대입 연산, 비교 연산이 가능해야 합니다. 따라서 대입, 관계 연산자가 정의되어야 합니다.
3. 가리키는 요소의 주변 요소로 이동할 수 있어야 합니다. 따라서 증가 연산자(++)가 정의되어야 합니다.

위와 같은 요구 사항을 모두 갖춰야만 STL 알고리즘에서 반복자로 사용될 수 있습니다.

> 반복자는 포인터를 일반화한 것으로, 포인터는 반복자가 가져야 할 모든 요구 사항을 만족합니다.

.

[코딩스쿨: 반복자](http://tcpschool.com/cpp/cpp_iterator_intro)

---

+ map<key,value>의 value 값을 전부 더하는 알고리즘
  + 파일들의 용량을 전부 더하는데 사용

```cpp
void main()
{
	string n = "nanan";
	map<string, double> m_fileID;
	m_fileID.insert(make_pair(n, 40));
	m_fileID.insert(make_pair("kljasjkl", 10));

	map<string, double>::iterator iter;
	double sum{ 0 };

	for (iter = m_fileID.begin(); iter != m_fileID.end(); iter++)
	{
		auto key = iter->second;
		sum += key;
	}
	cout << sum << endl;
}
```