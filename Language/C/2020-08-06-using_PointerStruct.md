---
title: Using Struct Poiter 
tag: C
---



## 구조체 포인터

### 개요

보통 구조체는 멤버 변수가 여러 개 들어있어서 크기가 큰 편이라 구조체 변수를 일일이 선언해서 사용하는 것보다는 포인터에 메모리를 할당해서 사용하는 편이 효율적입니다. 

### 기본형

```c
struct 구조체이름 *포인터이름 = malloc(sizeof(struct 구조체이름));
```

### 접근방법

그런데 구조체의 멤버에 접근하는 방법이 조금 특이합니다. 

지금까지 . (점)을 사용해서 멤버에 접근했지만 구조체 포인터의 멤버에 접근할 때는 -> (화살표 연산자)를 사용합니다.

+ 화살표 연산자(arrow operator)
+ 할당한 메모리를 해제해야함

#### 역참조

구조체 포인터에서 멤버에 접근하려면 p1->age와 같이 화살표 연산자를 사용하는데 괄호와 역참조를 사용하면 . (점)으로 멤버에 접근할 수 있습니다.

```c
p1->age;      // 화살표 연산자로 멤버에 접근
(*p1).age;    // 구조체 포인터를 역참조한 뒤 .으로 멤버에 접근
```

(*p1).age와 같이 구조체 포인터를 역참조하면 pointer to struct Person에서 pointer to가 제거되서 struct Person이 됩니다. 따라서 .으로 멤버에 접근할 수 있겠죠?

그림이 도움됨. 

> 즉, 구조체에 메모리를 할당할 때는 malloc → 사용 → free 패턴을 기억하세요.



[C언어 코딩 도장: 구조체 포인터](https://dojang.io/mod/page/view.php?id=418)

